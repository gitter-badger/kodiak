<div ng-hide="allResults">
    <h1>Search
        <span class="label label-info">{{search.name}}</span>
    </h1>
    <br/>
    <form>
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">New Criterion</h3>
            </div>
            <div class="panel-body row">
                <div class="col-md-4">
                    <select name="selType" class="form-control gr-bottom-5" placeholder="Type" ng-model="criterion.name">
                        <option value="" disabled selected>-- Type --</option>
                        <option value="AGE_BETWEEN">Age between</option>
                        <option value="TOTAL_EXPERIENCE_BETWEEN">Work Experience between</option>
                        <option value="CURRENT_POSITION_LIKE">Current Position like</option>
                        <option value="EXPERIENCE_LIKE">Experienced in</option>
                        <option value="QUALIFICATIONS_LIKE">Qualifications include</option>
                        <option value="QUALIFICATIONS_FIELD_LIKE">Qualified in</option>
                        <option value="SKILLS_LIKE">Skills include</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <input name="inputValue1" type="text" class="form-control gr-bottom-5" ng-model="criterion.values[0]">
                    <input name="inputValue2" type="text" class="form-control gr-bottom-5" ng-model="criterion.values[1]" ng-show="displayNameCollection[criterion.name].isRange" placeholder="to" ng-required="displayNameCollection[criterion.name].isRange">
                </div>
                <div class="col-md-4">
                    <div ui-slider min="1" max="10" ng-model="criterion.weight"></div>
                    <span class="pull-right gr-top-5">
                        weight
                        <span class="label label-default">{{criterion.weight}}</span>
                    </span>
                </div>
            </div>
            <div class="panel-footer"><a type="button" class="btn btn-primary" ng-click="add(criterion)">Add</a> 
            </div>
        </div>
    </form>

    <div class="panel panel-default" ng-show="search.criteria.length > 0">
        <div class="panel-heading">
            <h3 class="panel-title">Criteria</h3>
        </div>
        <div class="panel-body">
            <div class="nowrap gr-personal-block" ng-repeat="c in search.criteria">
                <span class="label label-success gr-right-5">{{c.weight}}</span> {{c.displayName}}
                <span ng-repeat="v in c.values" class="label label-primary gr-right-5">{{v}}</span>
                <a class="btn btn-xs btn-danger gr-btn-io" style="margin-left:-5px;" ng-click="removeElement(search.criteria, $index)">
                    <span class="glyphicon glyphicon-remove-circle"></span>
                </a>
            </div>
        </div>
        <div class="panel-footer"><a type="button" class="btn btn-primary clearfix" ng-click="doSearch()">Search</a> 
        </div>
    </div>
</div>

<div ng-show="allResults">
    <h1>
            <span class="glyphicon glyphicon-circle-arrow-left" ng-click="allResults=null" style="cursor:pointer;"></span>&nbsp;Search Results
        </h1>
    <div class="row">
        <div class="col-md-4 col-md-offset-8">
            <div class="gr-bottom-5">
                <h4>
                    Total of <span class="label label-info">{{allResults.length}}</span> results
                </h4>
            </div>
            <div>
                Showing the top
                <div class="btn-group">
                    <button type="button" class="btn btn-default" ng-click="showTop(10)">10</button> <button type="button" class="btn btn-default" ng-click="showTop(25)">25</button> <button type="button" class="btn btn-default" ng-click="showTop(50)">50</button> <button type="button" class="btn btn-default" ng-click="showTop(100)">100</button>
                </div>
            </div>
        </div>
        
    </div>
    <div class="modal-body row">
        <div class="col-md-8">
            <div ng-repeat="result in allResults | limitTo:limitResultsTo" class="gr-search-result" ng-class="{'gr-invited-result': result.invited}" ng-click="loadProfile(result._id, result.invited)">
                {{(result._score*100).toFixed(1)}}
                <div class="gr-search-progress" style="width: {{result._score*200/allResults.max_score}}px"></div>
            </div>
        </div>

        <div class="col-md-4"  ng-show="user">
            <br>
            <input type="text"  class="form-control" style="width:100%; margin-bottom:5px;" placeholder="tags: comma seperated" ng-model="user.tags" ng-disabled="user.invited">
            <a type="button" class="btn btn-success" ng-class="{disabled: user.invited}" ng-click="invite(user.id, user.tags)" style="width:100%;">{{user.invited ? 'Alredy Invited' : 'Invite this Candidate'}}
            </a>
            <div gr-visualized-profile>
            </div>
        </div>
    </div>
</div>